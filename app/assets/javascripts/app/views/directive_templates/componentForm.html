<form name="compForm">
  <h4> {{ comp.category }} </h4>

  <select name="select" ng-model="selectedComponent" ng-options='x as (x.brand + " " + x.name) for x in comp.list'><option value="">Select</option></select>

  <span ng-if="!selectedComponent">
      <manual-entry comp="comp"></manual-entry>
      <!-- <label> brand: </label> <input ng-model="comp.brand"
                                     name="compBrand"
                                     value="comp.brand"
                                     required >

      <label> name: </label>  <input ng-model="comp.name"
                                     name="compName"
                                     value="comp.name"
                                     name-taken
                                     all-or-none
                                     required >

      <label> price: </label> <input ng-model="comp.price"
                                     name="compPrice"
                                     value="comp.price"
                                     integer
                                     only-numbers
                                     required > -->
  </span>

  <span ng-if="selectedComponent">
    <table class="table">
      <thead>
        <tr>
          <th class="col-md-1">Component</th>
          <th class="col-md-1">Brand</th>
          <th class="col-md-1">Name</th>
          <th class="col-md-1">Price</th>
        </tr>
      </thead>
      <tbody>
        <tr component-display component="selectedComponent"></tr>
      </tbody>
    </table>
  </span>

  <div style="color:red">

    <div ng-messages="compForm.compBrand.$error" ng-if="compForm.compBrand.$touched || compForm.$$parentForm.$submitted">
      <div ng-message="required">Component Brand required</div>
    </div>

    <div ng-messages="compForm.compName.$error" ng-if="compForm.compName.$touched || compForm.$$parentForm.$submitted">
      <div ng-message="nameTaken">Name already in database</div>
      <div ng-message="required">Component Name required</div>
    </div>

    <div ng-messages="compForm.compPrice.$error" ng-if="compForm.compPrice.$touched || compForm.$$parentForm.$submitted">
      <div ng-message="onlyNumbers">Price must contain a numeric value</div>
      <div ng-message="required">price required</div>
    </div>

  </div>

</form>
